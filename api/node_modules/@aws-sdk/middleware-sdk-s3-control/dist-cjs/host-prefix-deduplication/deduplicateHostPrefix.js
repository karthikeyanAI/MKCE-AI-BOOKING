"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deduplicateHostPrefix = void 0;
const util_endpoints_1 = require("@smithy/util-endpoints");
const deduplicateHostPrefix = (hostname) => {
    const [p1, p2, p3, p4, ...rest] = hostname.split(".");
    if ((0, util_endpoints_1.isIpAddress)(`${p1}.${p2}.${p3}.${parseInt(p4, 10)}`)) {
        return hostname;
    }
    if (p1 === p2) {
        return [p2, p3, p4, ...rest].join(".");
    }
    return hostname;
};
exports.deduplicateHostPrefix = deduplicateHostPrefix;
